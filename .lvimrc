let s:jshint_command = "./node_modules/jshint/bin/hint --extra-ext=')|(ellenoir'"

let VimuxResetSequence = "q C-c C-u"

function! s:OnJavaScriptFileSaved(file)
  let command = ''
  let command = (command . ' ( cd ' . getcwd())
  let command = (command . ' && ' . s:jshint_command . ' ' . a:file)
  " NOTE: Add any follow ups once JSHint has successfully linted the file below.
  let command = (command . ' )')
  call VimuxRunCommand(command)
endfunction

" Lint and run JavaScript files on save.
augroup onJavaScriptFileSaved
  au!
  au BufWritePost *.js,ellenoir call s:OnJavaScriptFileSaved(expand('%:p'))
augroup END

" Reload this file on save.
augroup reloadLocalConfiguration
  au!
  au BufWritePost .lvimrc source %
augroup END
